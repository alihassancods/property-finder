{% extends 'property/base.html' %}
{% block stylesheet %}
{% load static %}
<link rel="stylesheet" href="{% static 'property/styles/communities.css' %}">
{% endblock %}
{% block content %}
    <div class="content-container">
      <p class="footer-text">Powered by DataGuru <img src="https://cdn-icons-png.flaticon.com/512/3681/3681697.png"
          alt="Shiny Bulb" class="shiny-bulb"></p>
      <h1 class="main-title">Communities in Doha</h1>
      <div class="community-description">
        Looking for a new home and not sure which neighborhood suits you? Explore <br>
        everything you need to know about the communities in Doha. View nearby <br>
        locations, landmarks, reviews, prices, FAQ's, and more.
      </div>
      <input type="text" class="search-input" placeholder="Search for a community">
    </div>
  </section>
  <section style="margin-top: 75px;">
    <div class="container">
      <div class="tabs">
        <div class="tab active" data-target="popular">
          <i class="fas fa-star"></i>
          Popular
        </div>
        <div class="tab" data-target="luxury">
          <i class="fas fa-crown"></i>
          Luxury
        </div>
        <div class="tab" data-target="budget">
          <i class="fas fa-wallet"></i>
          Budget-Friendly
        </div>
        <div class="tab" data-target="family">
          <i class="fas fa-users"></i>
          Family-Friendly
        </div>
        <div class="tab" data-target="expats">
          <i class="fas fa-briefcase"></i>
          For Expats
        </div>
        <div class="tab" data-target="green">
          <i class="fas fa-leaf"></i>
          Green Areas
        </div>
        <div class="tab" data-target="tourism">
          <i class="fas fa-sun"></i>
          Tourism & Vacation
        </div>
        <div class="tab" data-target="gated">
          <i class="fas fa-lock"></i>
          Gated Communities

        </div>
      </div>

      <div id="popular" class="section">
        <div class="header-row">

          <h2 class="section-title"> Popular</h2>
          <div class="slider-buttons">
            <button class="prev">&lt;</button>
            <button class="next">&gt;</button>
          </div>
        </div>

        <p class="section-description">Highly sought-after areas for property seekers, offering comprehensive services
          and amenities, with convenient access to the city center.</p>

        <div class="slider">
            {% for community in data %}
          <div class="card">
            <img src="{{community.images}}" alt="The Pearl Island">
            <div class="card-title">{{community.title}}</div>
          </div>
          {% endfor %}
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="West Bay">
            <div class="card-title">West Bay</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Al Sadd">
            <div class="card-title">Al Sadd</div>
          </div>
          <div class="card">
            <img src="images/Last.jpeg" alt="Al Waab">
            <div class="card-title">Al Waab</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Msheireb Downtown">
            <div class="card-title">Msheireb Downtown</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="Al Thumama">
            <div class="card-title">Al Thumama</div>
          </div>
        </div>
      </div>
      <div id="luxury" class="section">
        <div class="header-row">
          <h2 class="section-title">Luxury</h2>
          <div class="slider-buttons">
            <button class="luxury-prev">&lt;</button>
            <button class="luxury-next">&gt;</button>
          </div>
        </div>
        <p class="section-description">Exclusive properties offering unmatched comfort and premium amenities.</p>

        <div class="slider">
          <div class="card">
            <img src="images/Last.jpeg" alt="The Pearl Island">
            <div class="card-title">The Pearl Island</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="West Bay">
            <div class="card-title">West Bay</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Al Sadd">
            <div class="card-title">Al Sadd</div>
          </div>
          <div class="card">
            <img src="images/Last.jpeg" alt="Al Waab">
            <div class="card-title">Al Waab</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Msheireb Downtown">
            <div class="card-title">Msheireb Downtown</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="Al Thumama">
            <div class="card-title">Al Thumama</div>
          </div>
        </div>
      </div>

      <div id="budget" class="section">
        <div class="header-row">
          <h2 class="section-title">Budget-Friendly</h2>
          <div class="slider-buttons">
            <button class="budget-prev">&lt;</button>
            <button class="budget-next">&gt;</button>
          </div>
        </div>
        <p class="section-description">Affordable properties offering great value for money in prime locations.</p>

        <div class="slider">
          <div class="card">
            <img src="images/Last.jpeg" alt="The Pearl Island">
            <div class="card-title">The Pearl Island</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="West Bay">
            <div class="card-title">West Bay</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Al Sadd">
            <div class="card-title">Al Sadd</div>
          </div>
          <div class="card">
            <img src="images/Last.jpeg" alt="Al Waab">
            <div class="card-title">Al Waab</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Msheireb Downtown">
            <div class="card-title">Msheireb Downtown</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="Al Thumama">
            <div class="card-title">Al Thumama</div>
          </div>
        </div>
      </div>

      <div id="family" class="section">
        <div class="header-row">
          <h2 class="section-title">Family-Friendly</h2>
          <div class="slider-buttons">
            <button class="family-prev">&lt;</button>
            <button class="family-next">&gt;</button>
          </div>
        </div>
        <p class="section-description">Ideal areas for families offering schools, parks, and other family-centric
          amenities.</p>

        <div class="slider">
          <div class="card">
            <img src="images/Last.jpeg" alt="The Pearl Island">
            <div class="card-title">The Pearl Island</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="West Bay">
            <div class="card-title">West Bay</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Al Sadd">
            <div class="card-title">Al Sadd</div>
          </div>
          <div class="card">
            <img src="images/Last.jpeg" alt="Al Waab">
            <div class="card-title">Al Waab</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Msheireb Downtown">
            <div class="card-title">Msheireb Downtown</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="Al Thumama">
            <div class="card-title">Al Thumama</div>
          </div>
        </div>
      </div>

      <div id="expats" class="section">
        <div class="header-row">
          <h2 class="section-title">For Expats</h2>
          <div class="slider-buttons">
            <button class="expats-prev">&lt;</button>
            <button class="expats-next">&gt;</button>
          </div>
        </div>
        <p class="section-description">Areas that cater to expatriates with international schools, community support,
          and expat-friendly amenities.</p>

        <div class="slider">
          <div class="card">
            <img src="images/Last.jpeg" alt="The Pearl Island">
            <div class="card-title">The Pearl Island</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="West Bay">
            <div class="card-title">West Bay</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Al Sadd">
            <div class="card-title">Al Sadd</div>
          </div>
          <div class="card">
            <img src="images/Last.jpeg" alt="Al Waab">
            <div class="card-title">Al Waab</div>
          </div>
          <div class="card">
            <img src="images/Alwabb.jpeg" alt="Msheireb Downtown">
            <div class="card-title">Msheireb Downtown</div>
          </div>
          <div class="card">
            <img src="images/Alsadd.jpeg" alt="Al Thumama">
            <div class="card-title">Al Thumama</div>
          </div>
        </div>

        <!-- Green Areas Section -->
        <div id="green" class="section">
          <div class="header-row">
            <h2 class="section-title">Green Areas</h2>
            <div class="slider-buttons">
              <button class="green-areas-prev">&lt;</button>
              <button class="green-areas-next">&gt;</button>
            </div>
          </div>
          <p class="section-description">Properties located near parks, gardens, and green spaces for a peaceful living
            experience.</p>

          <div class="slider">
            <div class="card">
              <img src="images/Last.jpeg" alt="Green Island">
              <div class="card-title">Green Island</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Lush Gardens">
              <div class="card-title">Lush Gardens</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Park Side Villas">
              <div class="card-title">Park Side Villas</div>
            </div>
            <div class="card">
              <img src="images/Last.jpeg" alt="Nature's Retreat">
              <div class="card-title">Nature's Retreat</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Green Valley">
              <div class="card-title">Green Valley</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Botanical Gardens">
              <div class="card-title">Botanical Gardens</div>
            </div>
          </div>
        </div>

        <!-- Tourism and Vacation Section -->
        <div id="tourism" class="section">
          <div class="header-row">
            <h2 class="section-title">Tourism and Vacation</h2>
            <div class="slider-buttons">
              <button class="tourism-prev">&lt;</button>
              <button class="tourism-next">&gt;</button>
            </div>
          </div>
          <p class="section-description">Perfect properties for those seeking vacation homes or rental opportunities in
            popular tourist areas.</p>

          <div class="slider">
            <div class="card">
              <img src="images/Last.jpeg" alt="Beachfront Villa">
              <div class="card-title">Beachfront Villa</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Mountain Retreat">
              <div class="card-title">Mountain Retreat</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Seaside Escape">
              <div class="card-title">Seaside Escape</div>
            </div>
            <div class="card">
              <img src="images/Last.jpeg" alt="Lake View Resort">
              <div class="card-title">Lake View Resort</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Luxury Stay">
              <div class="card-title">Luxury Stay</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Vacation Paradise">
              <div class="card-title">Vacation Paradise</div>
            </div>
          </div>
        </div>

        <!-- Gated Communities Section -->
        <div id="gated" class="section">
          <div class="header-row">
            <h2 class="section-title">Gated Communities</h2>
            <div class="slider-buttons">
              <button class="gated-prev">&lt;</button>
              <button class="gated-next">&gt;</button>
            </div>
          </div>
          <p class="section-description">Secure and private living in exclusive gated communities offering luxury and
            comfort.</p>

          <div class="slider">
            <div class="card">
              <img src="images/Last.jpeg" alt="Exclusive Gates">
              <div class="card-title">Exclusive Gates</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Serenity Villas">
              <div class="card-title">Serenity Villas</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Prime Estate">
              <div class="card-title">Prime Estate</div>
            </div>
            <div class="card">
              <img src="images/Last.jpeg" alt="Royal Estates">
              <div class="card-title">Royal Estates</div>
            </div>
            <div class="card">
              <img src="images/Alwabb.jpeg" alt="Luxury Residences">
              <div class="card-title">Luxury Residences</div>
            </div>
            <div class="card">
              <img src="images/Alsadd.jpeg" alt="Grand Gated Community">
              <div class="card-title">Grand Gated Community</div>
            </div>
          </div>
        </div>

      </div>
  </section>


















  <script>
    const tabs = document.querySelectorAll('.tab');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelector('.tab.active').classList.remove('active');
        tab.classList.add('active');

        const target = tab.getAttribute('data-target');
        const targetSection = document.getElementById(target);

        targetSection.scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Slider functionality
    const setupSlider = (sectionId, prevButtonClass, nextButtonClass) => {
      const slider = document.querySelector(`#${sectionId} .slider`);
      const nextButton = document.querySelector(`.${nextButtonClass}`);
      const prevButton = document.querySelector(`.${prevButtonClass}`);

      let scrollAmount = 0;
      const scrollStep = 220; // Width of one card + gap

      nextButton.addEventListener('click', () => {
        slider.scrollBy({ left: scrollStep, behavior: 'smooth' });
        scrollAmount += scrollStep;

        // Disable next button if at the end
        if (scrollAmount >= slider.scrollWidth - slider.offsetWidth) {
          nextButton.disabled = true;
        }

        // Enable prev button
        prevButton.disabled = false;
      });

      prevButton.addEventListener('click', () => {
        slider.scrollBy({ left: -scrollStep, behavior: 'smooth' });
        scrollAmount -= scrollStep;

        // Disable prev button if at the beginning
        if (scrollAmount <= 0) {
          prevButton.disabled = true;
        }

        // Enable next button
        nextButton.disabled = false;
      });

      // Initial button states
      prevButton.disabled = true;
    };

    setupSlider('popular', 'prev', 'next');
    setupSlider('luxury', 'luxury-prev', 'luxury-next');
    setupSlider('budget', 'budget-prev', 'budget-next');

    setupSlider('budget', 'budget-prev', 'budget-next');
    setupSlider('family', 'family-prev', 'family-next');
    setupSlider('expats', 'expats-prev', 'expats-next');
    setupSlider('green', 'green-areas-prev', 'green-areas-next');
    setupSlider('tourism', 'tourism-prev', 'tourism-next');
    setupSlider('gated', 'gated-prev', 'gated-next');

  </script>
  <script>
    function toggleLocationDropdown() {
      const dropdown = document.getElementById('location-dropdown');
      if (dropdown.style.display === 'block') {
        dropdown.style.display = 'none';
      } else {
        dropdown.style.display = 'block';
      }
    }

    // Close dropdown when clicking outside
    window.onclick = function (event) {
      const dropdown = document.getElementById('location-dropdown');
      const locationDiv = document.querySelector('.location-container');
      if (!locationDiv.contains(event.target)) {
        dropdown.style.display = 'none';
      }
    }
  </script>
  <script>
    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }
  </script>
  <script>

    function toggleTab(button) {
      const buttons = document.querySelectorAll('.tab-group button');
      buttons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
    }
  </script>
{% endblock %}